<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>David Lorenzo | Banca & Riesgos</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <style>
    /* PALETA: Verde Esmeralda y Dorado Suave */
    :root {
      --primary: #00564e; /* Verde Esmeralda Oscuro para títulos y fondo principal */
      --accent: #00a896;  /* Verde Esmeralda más claro para acentos */
      --gold: #ffbe0b;    /* Dorado Suave para highlights */
      --bg: #f7fcfb;      /* Fondo muy claro, casi blanco con un toque verde */
      --card: rgba(255, 255, 255, 0.97);
      --text: #2c3e50;    /* Texto gris oscuro profesional */
      --light: #7f8c8d;   /* Texto gris medio para detalles */
      --shadow: 0 25px 50px rgba(0,0,0,0.08);
    }
    
    [data-theme="dark"] {
      --primary: #ffbe0b; /* Dorado para títulos/elementos principales en oscuro */
      --accent: #00a896;  /* Verde Esmeralda para acentos en oscuro */
      --gold: #ffbe0b;
      --bg: #1a2a2a;      /* Fondo oscuro para modo nocturno */
      --card: rgba(26, 42, 42, 0.97); /* Tarjetas ligeramente transparentes en oscuro */
      --text: #e0f2f1;    /* Texto claro en oscuro */
      --light: #90a4ae;   /* Texto gris claro para detalles en oscuro */
      --shadow: 0 25px 50px rgba(0,0,0,0.25);
    }
    
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: 'Inter', sans-serif;
      background: linear-gradient(135deg, #e0f2f1 0%, var(--bg) 100%); 
      color: var(--text);
      line-height: 1.7;
      min-height: 100vh;
      padding: 2rem;
      display: flex;
      justify-content: center;
      transition: all 0.4s ease;
    }
    .cv-master {
      max-width: 1000px;
      width: 100%;
      background: var(--card);
      backdrop-filter: blur(16px);
      border-radius: 28px;
      box-shadow: var(--shadow);
      overflow: hidden;
      border: 1px solid rgba(0, 168, 150, 0.15); 
      position: relative;
    }
    .hero {
      background: linear-gradient(135deg, var(--primary), #00796b); 
      color: white;
      padding: 3rem 2.5rem;
      text-align: center;
      position: relative;
      overflow: hidden;
    }
    .hero::before {
      content: '';
      position: absolute;
      top: -50%; left: -50%;
      width: 200%; height: 200%;
      background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
      animation: pulse 8s infinite;
    }
    @keyframes pulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.1); }
    }
    .hero h1 {
      font-family: 'Playfair Display', serif; 
      font-size: 3rem;
      font-weight: 700;
      margin-bottom: 0.5rem;
      text-shadow: 0 2px 10px rgba(0,0,0,0.3);
      color: white; /* Siempre blanco en el hero */
    }
    .contact-bar {
      display: flex;
      justify-content: center;
      gap: 1.5rem;
      margin-top: 1.5rem;
      flex-wrap: wrap;
    }
    .contact-bar a {
      color: white;
      text-decoration: none;
      font-weight: 500;
      display: flex;
      align-items: center;
      gap: 0.5rem;
      padding: 0.6rem 1.2rem;
      background: rgba(255,255,255,0.15);
      border-radius: 50px;
      transition: all 0.3s ease;
      font-size: 0.95rem;
      /* Aseguramos que el color del icono sea blanco por defecto */
    }
    /* CORRECCIÓN CRÍTICA: Aseguramos que el hover cambie el fondo y el color del texto */
    .contact-bar a:hover { 
      background: var(--gold); /* Fondo Dorado */
      color: var(--primary); /* Texto Verde Oscuro */
      transform: translateY(-3px);
    }
    .qr-code {
      position: absolute;
      top: 1.5rem;
      right: 1.5rem;
      width: 80px;
      height: 80px;
      background: var(--card);
      padding: 8px;
      border-radius: 14px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.2);
      border: 2px solid var(--gold);
    }
    .summary {
      padding: 2.5rem;
      text-align: center;
      font-size: 1.15rem;
      background: linear-gradient(to right, #e0f2f1, #ffffff); 
      border-bottom: 1px solid #e0e0e0;
      line-height: 1.8;
    }
    .section {
      padding: 2.5rem;
      opacity: 0;
      transform: translateY(30px);
      transition: all 0.8s ease;
    }
    .section.visible {
      opacity: 1;
      transform: translateY(0);
    }
    .section h2 {
      font-family: 'Playfair Display', serif;
      font-size: 1.9rem;
      color: var(--primary);
      margin-bottom: 1.8rem;
      position: relative;
      display: inline-block;
    }
    .section h2::after {
      content: '';
      position: absolute;
      bottom: -10px;
      left: 0;
      width: 80px;
      height: 4px;
      background: linear-gradient(to right, var(--accent), var(--gold));
      border-radius: 2px;
    }
    .job-card {
      background: var(--card);
      border-radius: 18px;
      padding: 1.8rem;
      margin-bottom: 1.8rem;
      box-shadow: 0 10px 30px rgba(0,0,0,0.08);
      border-left: 6px solid var(--accent);
      transition: all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
      position: relative;
      overflow: hidden;
      page-break-inside: avoid;
    }
    .job-card:hover {
      transform: translateY(-10px) scale(1.02);
      box-shadow: 0 25px 50px rgba(0, 168, 150, 0.18); 
      border-left-color: var(--gold);
    }
    .job-card::before {
      content: '';
      position: absolute;
      top: 0; left: 0;
      width: 100%; height: 5px;
      background: linear-gradient(90deg, var(--accent), var(--gold));
      transform: scaleX(0);
      transform-origin: left;
      transition: transform 0.5s ease;
    }
    .job-card:hover::before {
      transform: scaleX(1);
    }
    .job-header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      flex-wrap: wrap;
      gap: 1rem;
      margin-bottom: 1rem;
    }
    .job-title {
      font-size: 1.3rem;
      font-weight: 700;
      color: var(--primary);
    }
    .company {
      font-weight: 600;
      color: var(--accent);
      font-size: 1.1rem;
    }
    .date {
      font-size: 0.95rem;
      color: var(--light);
      font-style: italic;
    }
    .job-card ul {
      padding-left: 1.4rem;
      margin-top: 1rem;
    }
    .job-card ul li {
      margin-bottom: 0.7rem;
      position: relative;
      font-size: 0.98rem;
      padding-left: 0.4rem;
    }
    .job-card ul li::marker {
      color: var(--accent);
      font-weight: bold;
    }
    .skills-container {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 1.8rem;
      margin-top: 1.8rem;
    }
    .skill-item {
      background: var(--card); 
      padding: 1.2rem;
      border-radius: 16px;
      border: 1px solid #e2e8f0;
      transition: all 0.3s ease;
      page-break-inside: avoid; 
    }
    [data-theme="dark"] .skill-item {
        border-color: rgba(255,255,255,0.1); 
    }
    .skill-item:hover {
      background: linear-gradient(135deg, #fff9e0, #ffe7b2); 
      transform: translateY(-4px);
      box-shadow: 0 10px 25px rgba(255, 190, 11, 0.2); 
    }
    .skill-name {
      font-weight: 600;
      margin-bottom: 0.6rem;
      color: var(--primary);
      font-size: 1.05rem;
    }
    .progress-bar {
      height: 10px;
      background: #e2e8f0;
      border-radius: 5px;
      overflow: hidden;
      position: relative;
    }
    .progress {
      height: 100%;
      background: linear-gradient(90deg, var(--accent), var(--gold));
      border-radius: 5px;
      width: 0;
      transition: width 1.8s ease;
    }
    .controls {
      position: fixed;
      bottom: 2rem;
      right: 2rem;
      display: flex;
      gap: 1rem;
      z-index: 1000;
    }
    .ctrl-btn {
      width: 65px;
      height: 65px;
      border-radius: 50%;
      background: var(--primary);
      color: white;
      border: none;
      font-size: 1.5rem;
      cursor: pointer;
      box-shadow: 0 10px 30px rgba(0,0,0,0.25);
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .ctrl-btn:hover {
      transform: scale(1.2) rotate(20deg);
      background: var(--accent);
    }
    /* Estilos de impresión */
    @media print {
      :root {
        --primary: #000000;
        --accent: #000000;
        --gold: #000000;
        --bg: #ffffff;
        --card: #ffffff;
        --text: #000000;
        --light: #333333;
      }
      body { 
        background: white !important; 
        padding: 0; 
        color: #000 !important; 
        -webkit-print-color-adjust: exact;
        print-color-adjust: exact;
        font-size: 10pt;
      }
      .cv-master { 
        box-shadow: none; 
        border: none; 
        max-width: 100%;
      }
      .controls, .qr-code { 
        display: none; 
      }
      .job-card:hover, .skill-item:hover { 
        transform: none; 
      }
      .hero {
        background: none !important;
        color: #000 !important;
        padding: 1.5rem 1.5rem;
        border-bottom: 1px solid #000;
      }
      .hero h1 { text-shadow: none; color: #000 !important; font-size: 2.2rem; }
      .contact-bar { justify-content: flex-start; gap: 0.5rem; flex-wrap: nowrap; }
      .contact-bar a {
        background: none !important;
        color: #000 !important;
        padding: 0.2rem;
        font-size: 0.85rem;
        box-shadow: none;
      }
      .contact-bar a i {
        display: none;
      }
      .summary {
        background: none;
        font-size: 0.95rem;
        padding: 1.5rem;
        border-bottom: none;
      }
      .section {
        padding: 1.5rem;
        opacity: 1;
        transform: none;
      }
      .section h2 { 
        color: #000 !important; 
        font-size: 1.4rem;
        margin-bottom: 1rem;
      }
      .section h2::after { 
        background: #000 !important; 
      }
      .job-card {
        box-shadow: none;
        border: 1px solid #ccc;
        border-left: 4px solid #333;
        padding: 1rem;
        margin-bottom: 0.8rem;
        background: white !important;
        page-break-inside: avoid;
      }
      .job-card ul {
          margin-top: 0.5rem;
      }
      .job-card ul li {
          font-size: 0.9rem;
          margin-bottom: 0.4rem;
      }
      .job-card:hover { transform: none; }
      .job-title, .company { color: #000 !important; }
      .job-card ul li::marker, .job-card ul li { color: #000 !important; }
      .progress-bar {
        border: 1px solid #ccc;
        background: #eee;
        height: 8px;
      }
      .progress {
        background: #333 !important;
        transition: none !important;
      }
      .skill-item {
         background: #fff;
         border: 1px solid #ccc;
         padding: 0.8rem;
         box-shadow: none;
         page-break-inside: avoid;
      }
      .skills-container {
         gap: 1rem;
         grid-template-columns: repeat(2, 1fr);
      }
      .section:last-child {
        page-break-after: avoid;
      }
    }
    @media (max-width: 768px) {
      .hero h1 { font-size: 2.2rem; }
      .hero { padding: 2rem 1.5rem; }
      .section { padding: 1.5rem; }
      .controls { bottom: 1rem; right: 1rem; gap: 0.5rem; }
      .ctrl-btn { width: 55px; height: 55px; font-size: 1.3rem; }
    }
  </style>
</head>
<body>

  <div class="controls">
    <button class="ctrl-btn" onclick="window.print()" title="Imprimir como PDF">
      <i class="fas fa-file-pdf"></i>
    </button>
    <button class="ctrl-btn" onclick="toggleTheme()" title="Modo Oscuro">
      <i class="fas fa-moon theme-icon"></i>
    </button>
  </div>

  <div class="cv-master">
    
    <div class="hero">
      <img src="https://api.qrserver.com/v1/create-qr-code/?size=80x80&data=https://linkedin.com/in/lorenzomatellan" alt="QR LinkedIn" class="qr-code">
      <h1>David Lorenzo</h1>
      <div class="contact-bar">
        <a href="mailto:d.lorenzocara@hotmail.es"><i class="fas fa-envelope"></i> d.lorenzocara@hotmail.es</a>
        <a href="https://linkedin.com/in/lorenzomatellan" target="_blank"><i class="fab fa-linkedin"></i> LinkedIn</a>
        <a href="#"><i class="fas fa-map-marker-alt"></i> Madrid</a>
      </div>
    </div>

    <div class="summary section">
      <p>
        Profesional con 17 años de experiencia en banca, especializado en la optimización de procesos de fraude, 
        transformación digital y cumplimiento PBC/FT. Mi trayectoria incluye la gestión de riesgos crediticios 
        no consumo y la colaboración con partners estratégicos (Deloitte, Indra, Accenture) y clientes internacionales. 
        Disponible para aportar mi experiencia en un rol de consultoría senior.
      </p>
    </div>

    <div class="section">
      <h2>Experiencia Profesional</h2>

      <div class="job-card">
        <div class="job-header">
          <div>
            <div class="job-title">Analista de Riesgos de Crédito (No Consumo)</div>
            <div class="company">Bankinter</div>
          </div>
          <div class="date">06/2024 – Presente</div>
        </div>
        <ul>
          <li>Analizo 10-12 casos diarios de riesgos crediticios para no créditos al consumo, incluyendo pignoraciones, ampliaciones de crédito, desbloqueo de cuentas, créditos lombardos, créditos internacionales, subrogaciones, novaciones, extinciones de condominio, créditos hipotecarios desde terreno hasta edificación, y créditos especiales para farmacias y constructoras, gestionando facultades hasta 1.500.000 €.</li>
          <li>Presento casos superiores a 1.500.000 € al comité de dirección, colaborando para decisiones conjuntas.</li>
          <li>Evalúo valoraciones patrimoniales, analizando viabilidad, scoring, EBITDA, garantías reales, cash flow y Credit Reports para extranjeros.</li>
          <li>Coordino con equipos internos para garantizar cumplimiento normativo en PBC/FT.</li>
        </ul>
      </div>

      <div class="job-card">
        <div class="job-header">
          <div>
            <div class="job-title">Gestor del Cambio / Formador / Consultor Digital</div>
            <div class="company">Santander</div>
          </div>
          <div class="date">02/2019 – 05/2024</div>
        </div>
        <ul>
          <li><strong>Formador (10/2023–05/2024)</strong>: Imparto formación sobre herramientas digitales y tecnologías multidivisa; proporciono soporte funcional en proyectos de transformación.</li>
          <li><strong>Gestor del Cambio (02/2023–09/2023)</strong>: Configuro reglas en motores de riesgo; realizo pruebas de APIs; facilito transición entre usuarios y equipos técnicos.</li>
          <li><strong>Consultor Digital (10/2022–01/2023)</strong>: Diseño soluciones para digitalizar procesos; automatizo tareas operativas.</li>
          <li><strong>Supervisor SRAC (01/2022–08/2022)</strong>: Analizo fraudes en medios de pago; controlo operaciones remotas.</li>
          <li><strong>Cumplimiento PBC (02/2019–04/2019)</strong>: Apoyo a la red comercial en prevención de blanqueo.</li>
        </ul>
      </div>

      <div class="job-card">
        <div class="job-header">
          <div>
            <div class="job-title">Gestor del Cambio / Formador Bancario</div>
            <div class="company">Rural Servicios Informáticos (RSI)</div>
          </div>
          <div class="date">02/2020 – 02/2022</div>
        </div>
        <ul>
          <li>Formo equipos en migración a nuevos sistemas; gestiono conexiones de entidades (Fiare, Vallbanc, B-NexT, RCI Renault Credit, ICF) vía APIs para onboarding.</li>
          <li>Desarrollo programas de capacitación en banca electrónica y medios de pago con Iris y Citrix.</li>
        </ul>
      </div>

      <div class="job-card">
        <div class="job-header">
          <div>
            <div class="job-title">Gestor de Banca</div>
            <div class="company">Banco Popular</div>
          </div>
          <div class="date">08/2012 – 08/2017</div>
        </div>
        <ul>
          <li>Asesoro a clientes en ahorro, inversión y productos financieros como fondos, préstamos y seguros.</li>
          <li>Gestión de operaciones de caja y resolución de problemas operativos.</li>
        </ul>
      </div>

      <div class="job-card">
        <div class="job-header">
          <div>
            <div class="job-title">Técnico CAU</div>
            <div class="company">Bankia</div>
          </div>
          <div class="date">08/2010 – 08/2012</div>
        </div>
        <ul>
          <li>Proporciono soporte Helpdesk de 2º nivel, resolviendo incidencias in situ y remotas.</li>
          <li>Configuro e instalo PCs, portátiles, impresoras, tarjetas UMTS y sistemas operativos.</li>
        </ul>
      </div>

      <div class="job-card">
        <div class="job-header">
          <div>
            <div class="job-title">Gestor de Fraude en Medios de Pago</div>
            <div class="company">ING</div>
          </div>
          <div class="date">04/2006 – 08/2010</div>
        </div>
        <ul>
          <li>Controlo fraudes en tarjetas y transferencias, gestionando alertas ACI, Redsys y 4B.</li>
          <li>Cumplo normativa PBC/FT, elaborando mapas de riesgos y reportando al Sepblac.</li>
        </ul>
      </div>
    </div>

    <div class="section">
      <h2>Formación</h2>
      <div class="job-card">
        <strong>Máster en Fraude y Gestión del Riesgo</strong><br>
        Upper Academy • 11/2016 – 05/2017
      </div>
      <div class="job-card">
        <strong>Grado en Ingeniería en Tecnologías de la Información</strong><br>
        Universidad Europea • 09/2010 – 07/2016
      </div>
    </div>

    <div class="section">
      <h2>Habilidades Clave</h2>
      <div class="skills-container">
        <div class="skill-item">
          <div class="skill-name">Riesgos Crediticios (No Consumo)</div>
          <div class="progress-bar"><div class="progress" style="width:95%"></div></div>
        </div>
        <div class="skill-item">
          <div class="skill-name">Prevención de Fraude & PBC/FT</div>
          <div class="progress-bar"><div class="progress" style="width:92%"></div></div>
        </div>
        <div class="skill-item">
          <div class="skill-name">Gestión del Cambio</div>
          <div class="progress-bar"><div class="progress" style="width:90%"></div></div>
        </div>
        <div class="skill-item">
          <div class="skill-name">APIs & Integración</div>
          <div class="progress-bar"><div class="progress" style="width:88%"></div></div>
        </div>
        <div class="skill-item">
          <div class="skill-name">Banca Digital</div>
          <div class="progress-bar"><div class="progress" style="width:90%"></div></div>
        </div>
        <div class="skill-item">
          <div class="skill-name">Excel Avanzado</div>
          <div class="progress-bar"><div class="progress" style="width:85%"></div></div>
        </div>
      </div>
    </div>

    <div class="section">
      <h2>Idiomas</h2>
      <div style="display:flex;gap:3rem;justify-content:center;font-size:1.1rem;">
        <div><strong>Español:</strong> Nativo</div>
        <div><strong>Inglés:</strong> Intermedio</div>
      </div>
    </div>

  </div>

  <script>
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('visible');
          entry.target.querySelectorAll('.progress').forEach(bar => {
            setTimeout(() => bar.style.width = bar.style.width, 300);
          });
        }
      });
    }, { threshold: 0.1 });
    document.querySelectorAll('.section').forEach(section => observer.observe(section));

    // Función de Modo Oscuro mejorada con iconos
    function toggleTheme() {
      const current = document.documentElement.getAttribute('data-theme') || 'light';
      const newTheme = current === 'dark' ? 'light' : 'dark';
      document.documentElement.setAttribute('data-theme', newTheme);
      
      const icon = document.querySelector('.theme-icon');
      const btn = icon.parentElement;
      
      if (newTheme === 'dark') {
        icon.classList.remove('fa-moon');
        icon.classList.add('fa-sun');
        btn.title = "Modo Claro";
      } else {
        icon.classList.remove('fa-sun');
        icon.classList.add('fa-moon');
        btn.title = "Modo Oscuro";
      }
    }

    // Lógica para barras de progreso y estado inicial del icono
    document.addEventListener('DOMContentLoaded', () => {
      // Animar barras de progreso
      document.querySelectorAll('.progress').forEach(bar => {
        const width = bar.style.width;
        bar.style.width = '0';
        setTimeout(() => bar.style.width = width, 500);
      });

      // Poner el icono de tema correcto al cargar
      const currentTheme = document.documentElement.getAttribute('data-theme') || 'light';
      const icon = document.querySelector('.theme-icon');
      const btn = icon.parentElement;
      
      if (currentTheme === 'dark') {
        document.documentElement.setAttribute('data-theme', 'dark');
        icon.classList.remove('fa-moon');
        icon.classList.add('fa-sun');
        btn.title = "Modo Claro";
      } else {
        icon.classList.remove('fa-sun');
        icon.classList.add('fa-moon');
        btn.title = "Modo Oscuro";
      }
    });
  </script>
</body>
</html>